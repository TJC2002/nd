# ND网盘功能文档

## 1. 系统概述

本网盘系统聚焦实用性、便捷性、可扩展性，无安全加密、无会员限制，核心功能整合为6大模块（新增后端管理模块），为个人用户提供一站式文件存储、管理、分享和消费解决方案。

## 2. 核心功能模块

### 2.1 账户与设备管理

#### 2.1.1 极简账户操作
- **登录功能**：支持传统账号密码登录
- **密码找回**：通过预留邮箱/手机验证找回密码
- **账号注销**：支持用户主动注销账号
- **免注册登录**：个人专属模式下，可简化为免注册直接登录

#### 2.1.2 设备管控
- **设备列表**：查看所有登录设备的详细信息（设备类型、登录时间、IP地址）
- **远程下线**：支持远程强制下线任意设备，避免多端混乱
- **登录历史**：记录所有设备的登录历史记录，便于追溯

### 2.2 核心存储与备份

#### 2.2.1 自定义存储空间
- **容量设置**：支持设置固定总容量（如2TB）
- **容量管理**：文件/文件夹上传仅受总容量限制
- **容量预警**：当存储空间接近上限时，系统自动提醒

#### 2.2.2 多端自动同步备份
- **移动端同步**：
  - 相册自动同步至云端
  - 视频自动同步至云端
  - 微信文件自动同步至云端
- **电脑端同步**：
  - 指定文件夹实时同步
  - 本地修改自动上传
  - 多设备文件保持一致
- **同步状态**：显示同步进度和状态，支持暂停/恢复同步

#### 2.2.3 离线下载
- **支持协议**：HTTP/HTTPS链接、BT种子、磁力链接
- **下载管理**：支持查看下载进度、暂停/恢复下载、取消下载
- **自动存储**：下载完成后文件直接存入网盘，无需本地挂机
- **批量任务**：支持同时添加多个离线下载任务

#### 2.2.4 历史版本恢复
- **版本保留**：文件修改自动保留最多10个历史版本
- **版本管理**：查看所有历史版本的修改时间和大小
- **一键恢复**：支持从任意历史版本一键恢复，防止误删/误改
- **版本清理**：自动清理过期历史版本，节省存储空间

### 2.3 文件管理与在线处理

#### 2.3.1 基础操作
- **文件夹操作**：新建、重命名、移动、删除文件夹
- **文件操作**：上传、下载、移动、删除、重命名文件
- **批量操作**：支持批量选择文件/文件夹进行统一操作
- **回收站**：删除文件自动进入回收站，支持恢复或永久删除

#### 2.3.2 智能检索
- **关键词搜索**：按文件名关键词快速搜索
- **文件类型搜索**：按文件类型（文档/图片/视频/音频）筛选
- **高级搜索**：组合多个搜索条件进行精确查找

#### 2.3.3 在线预览
- **格式支持**：Word、Excel、PPT、PDF、TXT等常见格式
- **在线查看**：无需下载，直接在线预览文件内容

#### 2.3.4 格式转换与解压
- **格式转换**：
  - PDF与Office文件互转
  - 图片格式转换（JPG/PNG/GIF等）
  - 视频转码（不同分辨率/格式）
  - 音频提取（从视频中提取音频）
- **在线解压**：
  - 支持ZIP、RAR等常见压缩包
  - 在线解压，无需下载到本地
  - 解压后文件直接保存到指定位置

### 2.4 分享（可选）

#### 2.4.1 链接分享
- **生成分享链接**：为文件/文件夹生成唯一分享链接
- **有效期设置**：支持设置分享链接有效期（1天/7天/永久）
- **访问密码**：支持为分享链接设置访问密码
- **链接管理**：查看所有已生成的分享链接，支持随时撤销

#### 2.4.2 权限控制
- **权限设置**：分享链接可设置"只读/可下载"权限
- **访问统计**：查看分享链接的访问次数和下载次数
- **链接安全**：支持随时撤销分享链接的访问权限

### 2.5 音视频与内容消费

#### 2.5.1 全格式兼容播放
- **视频格式**：支持MP4、AVI、MKV、FLV、WMV、MOV、RMVB等格式
- **音频格式**：支持MP3、WAV、FLAC、APE、AAC、OGG等格式
- **无需转码**：直接播放，无需格式转换
- **流媒体播放**：支持大文件边下载边播放

#### 2.5.2 增强播放控制
- **视频控制**：
  - 倍速播放（0.5x-4x）
  - 进度拖拽
  - 画质切换（原画/高清/标清）
  - 全屏/小窗/画中画模式
- **音频控制**：
  - 后台播放
  - 锁屏控制
  - 倍速播放
  - 均衡器调节（摇滚/流行/古典等预设）

#### 2.5.3 播放记忆与收藏
- **播放记忆**：自动记忆所有影音文件的播放进度
- **跨设备同步**：播放进度在多设备间同步
- **我的收藏**：支持将常用影音文件添加到收藏夹
- **快捷访问**：收藏夹内容快速访问

#### 2.5.4 字幕与音轨管理
- **字幕支持**：自动识别视频内嵌字幕
- **外挂字幕**：支持手动上传外挂字幕（SRT/ASS/SSA）
- **字幕切换**：支持多字幕切换
- **音轨管理**：多音轨视频可自由切换声道

#### 2.5.5 影音内容管理
- **自定义分类**：
  - 创建视频专辑
  - 创建音频歌单
  - 支持拖拽排序
  - 支持循环/随机播放
- **标签化检索**：为影音文件添加自定义标签，按标签筛选
- **自动识别**：扫描影音文件，自动识别影视剧名称、集数、歌手、专辑信息并批量重命名

#### 2.5.6 投屏与多端无缝播放
- **投屏功能**：支持视频投屏到电视/投影仪
- **远程控制**：手机/电脑作为遥控器控制播放
- **无缝切换**：跨设备无缝切换播放进度
- **设备管理**：查看可投屏设备列表

#### 2.5.7 离线缓存
- **缓存管理**：将云端影音文件下载到本地缓存
- **无网络播放**：缓存文件无网络时可播放
- **缓存清理**：支持手动清理缓存释放空间
- **缓存设置**：设置缓存上限和缓存路径

#### 2.5.8 AI辅助工具
- **图片OCR**：图片文字提取
- **证件排版**：证件照片自动排版
- **试卷手写擦除**：试卷扫描后自动擦除手写内容
- **文档摘要**：自动生成文档摘要
- **视频字幕**：视频自动生成字幕

### 2.6 后端管理（新增核心模块）

#### 2.6.1 存储介质管理
- **多存储协议适配**：
  - 本地路径存储
  - OSS（阿里云对象存储）
  - MinIO（开源对象存储）
  - 其他存储协议扩展
- **存储策略配置**：
  - 按规则选择性存储文件（如大文件存OSS、小文件存本地）
  - 存储规则自定义设置
  - 多存储节点横向扩容
- **存储节点管理**：
  - 查看各存储节点容量使用情况
  - 监控存储节点健康状态
  - 支持启用/禁用指定存储节点
  - 存储节点故障自动切换

#### 2.6.2 文件元数据与秒传管理
- **元数据管理**：
  - 统一存储文件元数据（文件名、大小、哈希值、存储位置、上传时间、所属用户等）
  - 元数据索引优化，提升检索速度
  - 元数据备份与恢复
- **秒传功能**：
  - 文件上传前计算哈希值
  - 对比数据库中已存在的哈希值
  - 若文件已存在则仅更新元数据，无需重复上传
  - 秒传记录管理

#### 2.6.3 用户存储空间管理
- **容量配置**：
  - 管理员可自定义单个用户的总存储空间上限
  - 支持随时调整容量（扩容/缩容）
  - 容量模板预设
- **容量监控**：
  - 查看用户存储空间使用详情
  - 总容量、已用容量、剩余容量统计
  - 文件数量统计
  - 按文件类型统计占用情况
- **容量预警**：
  - 设置容量使用阈值，达到阈值自动提醒
  - 批量用户容量管理

#### 2.6.4 系统全局配置
- **基础配置**：
  - 历史版本保留数量设置
  - 回收站文件保留时长设置
  - 离线下载任务数上限设置
  - 系统名称、Logo自定义
- **功能开关**：
  - 启用/关闭特定功能（如离线下载、分享协同）
  - 功能模块权限管理
- **日志管理**：
  - 系统操作日志记录
  - 文件操作日志（上传/下载/删除）
  - 存储节点变更日志
  - 配置修改日志
  - 日志查询与导出

## 3. 技术架构

### 3.1 前端架构
- **Web端**：响应式设计，支持PC/平板/手机
- **移动端**：iOS/Android原生应用
- **桌面端**：Windows/Mac/Linux客户端

### 3.2 后端架构
- **核心服务**：文件存储服务、用户管理服务、同步服务、转码服务
- **存储层**：本地存储 + 云存储（OSS/MinIO）
- **数据库**：元数据存储、用户数据存储
- **缓存层**：Redis缓存，提升访问速度
- **消息队列**：处理异步任务（如离线下载、转码）

### 3.3 技术栈选择
- **后端**：Python/Java/Go
- **前端**：Vue.js/React
- **数据库**：MySQL/PostgreSQL
- **存储**：本地文件系统 + OSS/MinIO
- **缓存**：Redis
- **消息队列**：RabbitMQ/Kafka

## 4. 系统特点

### 4.1 实用性
- 聚焦个人用户实际需求
- 功能简洁明了，易于使用
- 无冗余功能，提高系统效率

### 4.2 便捷性
- 多端同步，随时随地访问文件
- 快速检索，快速定位文件
- 在线处理，无需本地软件

### 4.3 可扩展性
- 模块化设计，便于功能扩展
- 多存储协议支持，存储方案灵活
- 后端管理模块，便于系统维护

### 4.4 无限制
- 无安全加密（简化设计）
- 无会员限制
- 无功能使用限制

## 5. 应用场景

### 5.1 个人文件存储
- 照片、视频等个人媒体文件存储
- 文档、工作文件备份
- 重要文件归档

### 5.2 多端同步
- 多设备文件保持一致
- 移动端自动备份
- 电脑端实时同步

### 5.3 媒体内容消费
- 视频在线播放
- 音乐在线收听
- 相册时光轴浏览

### 5.4 分享场景
- 与家人、朋友共享文件
- 临时文件分享

## 6. 总结

ND网盘通过整合6大核心模块，为用户提供了一个功能完善、使用便捷的个人文件管理解决方案。新增的后端管理模块进一步提升了系统的可维护性和扩展性，使得系统不仅满足个人用户的日常需求，也为未来可能的功能扩展和存储升级做好了准备。

系统设计理念聚焦于实用性和便捷性，去除了不必要的复杂功能，同时保留了核心的存储、管理、分享和消费功能，为个人用户打造了一个专属的数字资产管理中心。

- 核心功能 ：用户认证、文件上传下载、存储管理
- 基础功能 ：文件管理、分享、媒体播放
- 高级功能 ：AI辅助工具、格式转换、多端同步
- 补充功能 ：用户设置、系统通知、访问日志